---
output: html_document
editor_options: 
  chunk_output_type: console
---


Panel General
===================================== 


Row
-------------------------------------


```{r}
tabla <- armar_tabla(shared_df_transparencia, tabla_nro = 1)

page_fluid(
  
  card(
      card_header(h2("Resultado global del índice - 2° trimestre 2024")),
      height = 450,  # Define the height for the container,
      card_body(
        layout_column_wrap(
          width = 1/2,
          card(
            !!!vbs
          )
          ,
          
          tags$div(
            style = "display: flex; justify-content: center; align-items: center; height: 100%;",
            tags$img(
              src = "output_graficos/viz_tot.png",  # Path to the PNG file
              style = "max-width: 80%; height: auto;"  # Ensure responsive scaling
            )
          )
        )
      )
  ),

  # Segunda fila: Tabla y barra lateral
  layout_column_wrap(
    width = 1,  # La tabla ocupa toda la fila
    card(
      card_header("Transparencia"),
      layout_sidebar(
        fillable = TRUE, 
        sidebar = sidebar(
          title = "Filtros",
          width = "25%",
          class = "fw-bold font-monospace",
          filtro_so,
          filtro_tipo_so
        ),
        tabla,  # Aquí va la tabla principal
        tagList(
          tags$button(class = "download-button",
                      tagList(fontawesome::fa("download"), "Descargar tabla como .CSV"),
                      onclick = "Reactable.downloadDataCSV('indice-tabla-1', 'indice-tabla-1.csv')")
        )
      )
    )
  )
)


```
